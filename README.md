
# Car-App-Web (懂车小助手 - 汽车资讯前端 H5)

本项目是对标“懂车帝”的汽车资讯 App 前端 Web/H5 工程，搭配 Go-Zero 高性能后端服务运行。采用当下最主流的 Vue 3 组合式 API 技术栈与 Vant 4 移动端组件库，致力于提供丝滑、沉浸、完整的移动端浏览与选车体验。

## 🌟 最新核心交互特性

* **双模聚合登录/注册** ：采用现代化的双标签页（Tabs）平滑切换设计，支持新用户快速注册，并自动联动后端的 Bcrypt 密文安全升级机制。
* **动态分栏选车** ：重构了 `Category.vue`，实现左侧动态品牌侧边栏与右侧车型列表的精准联动加载，支持多达 13 个品牌与近百款车型的高效切换。
* **沉浸式车辆详情** ：集成顶部多媒体轮播图（支持图片与视频混排）、折叠面板渲染底层 JSON 动态配置树，以及底部的 Action Bar 快捷操作。
* **互动与收藏闭环** ：
* **车评系统** ：支持半星精细打分、底部弹窗发布真实用车体验，并在详情页无缝滚动拉取历史评价。
* **动态收藏夹** ：进页自动按用户状态点亮“收藏”星星，实时拦截未登录状态，并在“个人中心”提供图文并茂的“我的收藏”与“我的评价”历史列表。
* **轻量级个人中心** ：提供系统预设头像的底部抽屉选择器、昵称即时修改及全局的 JWT Token 鉴权路由拦截。

## 🛠 技术栈

* **核心框架** : Vue 3 (Composition API, `<script setup>` 语法糖)
* **构建工具** : Vite
* **路由管理** : Vue Router 4 (支持动态 Title 与鉴权守卫)
* **状态管理** : Pinia (或原生 Ref/Reactive 全局状态共享)
* **UI 组件库** : Vant 4 (有赞专为移动端打造，全局按需引入)
* **网络请求** : Axios (深度封装，内置 Token 注入与 HTTP 401 拦截回跳)

## 📂 核心目录结构

**Plaintext**

```
car-web/
├── public/                 # 静态资源
├── src/
│   ├── api/                # 接口统一封装层 (car.js 包含选车、评论、收藏等全量 API)
│   ├── assets/             # 项目内联静态资源
│   ├── components/         # 共享复用组件
│   ├── router/             # 路由配置中心 (index.js 挂载所有独立页面)
│   ├── utils/              # 工具类 (request.js 拦截器封装)
│   ├── views/              # 页面级组件
│   │   ├── Home.vue        # 首页
│   │   ├── Category.vue    # 动态联动选车页
│   │   ├── Detail.vue      # 车辆详情页 (含轮播、参数JSON树、评论与收藏)
│   │   ├── Login.vue       # 登录/注册一体化页面
│   │   ├── User.vue        # 个人中心
│   │   ├── MyReview.vue    # 我的评价列表
│   │   └── MyFavorite.vue  # 我的收藏列表
│   ├── App.vue             # 根组件
│   └── main.js             # 全局入口文件 (Vant 插件挂载点)
├── vite.config.js          # Vite 构建及跨域代理配置 (连接后端 8888 端口)
└── package.json            # 依赖管理
```

## 🚀 快速运行指引

### 1. 安装依赖

强烈建议使用 Node.js 16+ 及以上版本。

**Bash**

```
npm install
```

### 2. 本地开发启动

启动前， **请务必确保后端 Go 服务 (`car-app`) 已在 `localhost:8888` 成功启动** 。Vite 已在 `vite.config.js` 中配置了 `/api` 的本地跨域代理，前后端可无缝联调。

**Bash**

```
npm run dev
```

### 3. 生产环境打包

构建用于生产环境部署的静态文件：

**Bash**

```
npm run build
```

## 💡 核心鉴权逻辑说明

1. **Token 存储** ：用户在 `Login.vue` 登录/注册成功后，响应的 JWT `token` 和 `uid` 会被写入浏览器的 `localStorage` 中。
2. **请求携带** ：封装好的 `utils/request.js` 会在后续每一次 HTTP 请求的 `Headers` 中自动附加 `Authorization: Bearer <token>`。
3. **过期处理** ：一旦后端 JWT 校验失败（返回 401 状态码），前端 Axios 拦截器会自动拦截，清空本地失效 Token，并强制路由回跳至 `/login` 页面，要求用户重新登录。
